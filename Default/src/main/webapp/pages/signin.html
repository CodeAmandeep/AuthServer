<!DOCTYPE html>
<html lang="en">
<head>

    <script>

       var request;
function login()
{

var email=document.getElementById("login").value;
var pass=document.getElementById("password").value;
var loginButton = document.getElementById("login-button");
var clientId = loginButton.getAttribute("data-clientId");
var redirectUri = loginButton.getAttribute("data-redirect_uri");
var state = loginButton.getAttribute("data-state");
var json = {

email : email,
password : pass
}


var url="http://localhost:3327/o/auth/login?redirect_uri="+redirectUri+"&client_id="+clientId+"&state="+state;

if(window.XMLHttpRequest){
request=new XMLHttpRequest();
}
else if(window.ActiveXObject){
request=new ActiveXObject("Microsoft.XMLHTTP");
}

try
{
request.onreadystatechange = getInfo;
request.open("POST",url,true);
request.setRequestHeader("Content-type", "application/json");
request.send(JSON.stringify(json));
}
catch(e)
{
console.log(e);
}

}

function getInfo(){
if(request.readyState==4){
var val=request.responseText;
document.getElementById('resp').innerHTML=val;
}
}

    </script>
    <!-- endbuild -->
</head>
<body>
<main>
    <header>
        <h4><a href="/">Auth Login</a></h4>
    </header>
    <section class="dfPanel wbg">
        <h5>Login</h5>
        <div>
            <h2>Authentication Console</h2>

            <h3 id="resp"></h3>
            login <input type="text" id="login"><br>
            password <input type="password" id="password"><br>

            <button value="login" onclick="login()" id="login-button" data-redirect_uri="${redirect_uri!''}" data-clientId="${clientId!''}" data-state="${state!''}">Login</button>
        </div>
    </section>
    <!-- dfPanel -->
</main>
<!-- main -->
</body>
</html>
